@using DbManager;
@model IEnumerable<MaterialType>

@{
    ViewData["Title"] = "Виды материалов";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<h3>Виды материалов</h3>
<form action="/Material/AddMaterialType" data-ajax="true" data-ajax-mode="replace" data-ajax-update="#materialTypesTable" id="form0" method="post">

    <div class="row">

        <div class="col-md-4 mb-3">

            <label for="name">Наименование материала</label>
            <input id="name" type="text" name="Name" class="form-control" autocomplete="off" required />

        </div>

        <div class="col-md-4 mb-3">
            <label for="MaterialUnitId">Еденица измерения</label>
            @Html.DropDownList("MaterialUnitId", ViewBag.listItems as SelectList, new { @class = "form-control", @autocomplete = "off" })
        </div>
        <div class="col-md-4 mb-3">
            <label for="Price">Цена за ед. изм., руб.</label>
            <input type="text" id="Price" class="form-control" name="Price" required pattern="\d+(,\d{1,10})?" />
        </div>

    </div>

    <div class="text-right">
        <a href="/Material/UpdatePrice"><input id="update" type="button" value="Импорт цен материалов" class="btn btn-primary" /></a>
        <input id="post" type="submit" value="Добавить" class="btn btn-primary" />
    </div>
</form>
<h6>&#8195</h6>
<div id="materialTypesTable">
    @Html.Partial("_MaterialTypesTable")
</div>
<script>
 function PriceImport() {
     var xhr = new XMLHttpRequest();
     var body = "";
     xhr.responseType = "";
        
        xhr.onreadystatechange = function () {
        if (xhr.readyState === 4 && xhr.status === 200) {
      
               }
        
        }
        xhr.open("POST", '/Material/UpdatePrice', true);
        xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
        xhr.send(body);
        }
</script>